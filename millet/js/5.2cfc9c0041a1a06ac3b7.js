webpackJsonp([5],{COBD:function(t,c,e){"use strict";Object.defineProperty(c,"__esModule",{value:!0});e("jIve");var s={name:"cart",data:function(){return{cartMsg:null,proCount:1,isShow:!0,countNumber:0,allChecked:!1}},created:function(){this.param()},methods:{backLastPage:function(){this.$router.go(-1)},param:function(){this.cartMsg=this.$store.state.goodsCar},changeProNum:function(t){for(var c=0;c<this.cartMsg.length;c++)c==t&&(this.cartMsg[c].isShow=!this.cartMsg[c].isShow)},changeNum:function(t,c){for(var e=0;e<this.cartMsg.length;e++)e==t&&"add"==c?this.cartMsg[e].proCount++:e==t&&"minus"==c&&(this.cartMsg[e].proCount<2?this.cartMsg[e].proCount=1:this.cartMsg[e].proCount--);console.log(this.proCount),this.countNum()},deletePro:function(t){for(var c=0;c<this.cartMsg.length;c++)c==t&&this.cartMsg.splice(t,1)},selectPro:function(t){for(var c=0;c<this.cartMsg.length;c++)c==t&&(this.cartMsg[c].checked=!this.cartMsg[c].checked,this.cartMsg[c].checked||(this.allChecked=!1)),this.countNum()},selectAll:function(){this.allChecked?this.cartMsg.forEach(function(t,c){t.checked=!1}):this.cartMsg.forEach(function(t,c){t.checked=!0}),this.allChecked=!this.allChecked,this.countNum()},countNum:function(){var t=this;this.countNumber=0,this.cartMsg.forEach(function(c,e){t.countNumber+=c.price*c.proCount})}},filters:{cartPriceFormat:function(t){return"￥"+t.toFixed(2)}},components:{}},a={render:function(){var t=this,c=t.$createElement,e=t._self._c||c;return e("div",{staticClass:"cart"},[e("div",{staticClass:"cart-bar"},[e("div",{staticClass:"bar-back",on:{click:t.backLastPage}},[e("i",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),e("div",{staticClass:"bar-ipt"},[t._v("购物车")]),t._v(" "),e("div",{staticClass:"bar-quit"})]),t._v(" "),e("div",{staticClass:"cart-bg"},[e("div",{},[t.cartMsg.length?e("ul",t._l(t.cartMsg,function(c,s){return e("li",{key:c.index},[e("div",{staticClass:"cart-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:c.checked,expression:"v.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(c.checked)?t._i(c.checked,null)>-1:c.checked},on:{click:function(c){t.selectPro(s)},change:function(e){var s=c.checked,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(c.checked=s.concat([null])):n>-1&&(c.checked=s.slice(0,n).concat(s.slice(n+1)))}else t.$set(c,"checked",i)}}})]),t._v(" "),e("div",{staticClass:"cart-img"},[e("img",{attrs:{src:c.imgSrc}})]),t._v(" "),e("div",{staticClass:"cart-info"},[e("p",{staticClass:"p-title"},[t._v(t._s(c.title))]),t._v(" "),e("p",{staticClass:"p-info"},[e("span",{staticClass:"sp-price"},[t._v(t._s(t._f("cartPriceFormat")(c.price*c.proCount)))])]),t._v(" "),e("p",[e("span",{staticClass:"sp-spec"},[t._v(t._s(c.ram))]),t._v(" "),e("span",{staticClass:"sp-spec"},[t._v(t._s(c.color))])])]),t._v(" "),c.isShow?e("div",{staticClass:"cart-num",on:{click:function(c){t.changeProNum(s)}}},[t._v("\n            X\n            "),e("span",[t._v(t._s(c.proCount))])]):t._e(),t._v(" "),c.isShow?t._e():e("div",{staticClass:"cart-edit"},[e("input",{staticClass:"ipt-ok",attrs:{type:"button",value:"确定"},on:{click:function(c){t.changeProNum(s)}}}),t._v(" "),e("input",{attrs:{type:"button",value:"+"},on:{click:function(c){t.changeNum(s,"add")}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:c.proCount,expression:"v.proCount"}],attrs:{type:"text"},domProps:{value:c.proCount},on:{input:function(e){e.target.composing||t.$set(c,"proCount",e.target.value)}}}),t._v(" "),e("input",{attrs:{type:"button",value:"-"},on:{click:function(c){t.changeNum(s,"minus")}}})]),t._v(" "),e("div",{staticClass:"delete-btn",on:{click:function(c){t.deletePro(s)}}},[t._v("\n              删除\n          ")])])})):t._e(),t._v(" "),t.cartMsg.length?t._e():e("ul",[e("li",[t._v("\n          购物车空空如也，赶快买买买~\n        ")])])])]),t._v(" "),e("div",{staticClass:"cart-count"},[e("div",{staticClass:"count-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.allChecked,expression:"allChecked"}],attrs:{type:"checkbox",id:"all"},domProps:{checked:Array.isArray(t.allChecked)?t._i(t.allChecked,null)>-1:t.allChecked},on:{click:function(c){t.selectAll()},change:function(c){var e=t.allChecked,s=c.target,a=!!s.checked;if(Array.isArray(e)){var i=t._i(e,null);s.checked?i<0&&(t.allChecked=e.concat([null])):i>-1&&(t.allChecked=e.slice(0,i).concat(e.slice(i+1)))}else t.allChecked=a}}}),t._v(" "),e("label",{attrs:{for:"all"}},[t._v("全选")])]),t._v(" "),e("div",{staticClass:"count-num"},[t._v("\n      合计:"),e("span",[t._v(t._s(t._f("cartPriceFormat")(t.countNumber)))])])])])},staticRenderFns:[]},i=e("8AGX")(s,a,!1,function(t){e("OgeW")},"data-v-2787150d",null);c.default=i.exports},OgeW:function(t,c){}});
//# sourceMappingURL=5.2cfc9c0041a1a06ac3b7.js.map